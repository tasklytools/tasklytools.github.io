# BEGIN BASE RULES
<IfModule mod_rewrite.c>
RewriteEngine On

# Redirect non-www to www (optional)
# Uncomment the next two lines if you want www
# RewriteCond %{HTTP_HOST} !^www\. [NC]
# RewriteRule ^(.*)$ https://www.%{HTTP_HOST}/$1 [L,R=301]

# Force HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Remove index.html, index.htm, or index.php from URLs
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /(.*/)?index\.(html?|php)\ HTTP/ [NC]
RewriteRule ^(.*/)?index\.(html?|php)$ https://%{HTTP_HOST}/$1 [R=301,L]

# Ensure trailing slash on directories
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^(.+[^/])$ https://%{HTTP_HOST}/$1/ [R=301,L]

# END BASE RULES
</IfModule>

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>
# END WordPress